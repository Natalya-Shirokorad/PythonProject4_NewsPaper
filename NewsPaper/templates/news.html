
{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block title %}
News
{% endblock title %}

{% block content %}
    <h1>Все статьи и новости </h1>
    <h3>{{ time_now|date:'M d Y' }}</h3>

        <hr>
            {% if news %}
                <table>
                     <tr>
                        <td>Название</td>
                         <td>Дата публикации</td>
                        <td>Текст</td>
                    </tr>

                   <!-- Для каждого поста будете генерироваться новая строчка,
                   т.е. новый HTML код, который указан в теле цикла.
                   При этом сам цикл работает точно так же, как и в Python.
                   post — переменная цикла, т.е. наша статья или новость полученный из списка -->
                   {% for news in news %}
                    <tr>
                       <!-- Не забываем, что переменные в шаблоне ничем не отличаются
                        от переменных в Python. Здесь также можно получать доступ к
                        полям объекта модели. Например, здесь мы выводим имя,
                        в следующем столбце описание, и т.д.  -->
                        <td>{{ news.title }}</td>
                        <td>{{ news.time_in }}</td>
                        <td>{{ news.text|find_a_bad_word }}</td>
                   </tr>
                   {% endfor %}

                </table>
            {% else %}
                <h2>Статья отсутсвует!</h2>
            {% endif %}
{% endblock content %}